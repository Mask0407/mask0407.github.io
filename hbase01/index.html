<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>Hbase 伪分布式及高可用集群搭建 | 个人博客</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.0/css/all.min.css">
<link rel="shortcut icon" href="https://mask0407.github.io/favicon.ico?v=1593400819751">
<link rel="stylesheet" href="https://mask0407.github.io/styles/main.css">





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="
Hbase的引言

什么是HBase
NoSQL特点
NoSQL分类


Hbase存储的逻辑结构
Hbase伪分布式环境的搭建
Hbase的shell命令
HBase 集群搭建

1.时间同步集群
2.Hadoop集群搭建
3. Zoo..." />
    <meta name="keywords" content="Hbase,Hadoop,大数据" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://mask0407.github.io">
        <img src="https://mask0407.github.io/images/avatar.png?v=1593400819751" class="site-logo">
        <h1 class="site-title">个人博客</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      温故而知新
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://mask0407.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">Hbase 伪分布式及高可用集群搭建</h2>
            <div class="post-date">2020-06-29</div>
            
            <div class="post-content" v-pre>
              <p><ul class="markdownIt-TOC">
<li><a href="#hbase%E7%9A%84%E5%BC%95%E8%A8%80">Hbase的引言</a>
<ul>
<li><a href="#%E4%BB%80%E4%B9%88%E6%98%AFhbase">什么是HBase</a></li>
<li><a href="#nosql%E7%89%B9%E7%82%B9">NoSQL特点</a></li>
<li><a href="#nosql%E5%88%86%E7%B1%BB">NoSQL分类</a></li>
</ul>
</li>
<li><a href="#hbase%E5%AD%98%E5%82%A8%E7%9A%84%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84">Hbase存储的逻辑结构</a></li>
<li><a href="#hbase%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA">Hbase伪分布式环境的搭建</a></li>
<li><a href="#hbase%E7%9A%84shell%E5%91%BD%E4%BB%A4">Hbase的shell命令</a></li>
<li><a href="#hbase-%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA">HBase 集群搭建</a>
<ul>
<li><a href="#1%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5%E9%9B%86%E7%BE%A4">1.时间同步集群</a></li>
<li><a href="#2hadoop%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA">2.Hadoop集群搭建</a></li>
<li><a href="#3-zookeeper%E9%9B%86%E7%BE%A4">3. Zookeeper集群</a></li>
<li><a href="#4-hbase%E9%9B%86%E7%BE%A4">4. HBase集群</a></li>
</ul>
</li>
<li><a href="#hbase-java-api">HBase JAVA API</a>
<ul>
<li><a href="#maven%E4%BE%9D%E8%B5%96">Maven依赖</a></li>
<li><a href="#%E6%96%B9%E6%B3%95">方法</a></li>
<li><a href="#hbase%E4%B8%AD%E7%9A%84%E8%BF%87%E6%BB%A4%E5%99%A8">HBase中的过滤器</a></li>
</ul>
</li>
<li><a href="#hbase%E4%B8%AD%E5%88%97%E7%B0%87%E7%9B%B8%E5%85%B3%E7%9A%84%E5%B1%9E%E6%80%A7">HBase中列簇相关的属性</a></li>
<li><a href="#hbase-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84">HBase 体系结构</a>
<ul>
<li><a href="#1regionserver">1.RegionServer</a></li>
<li><a href="#2-hmaster%E4%BD%9C%E7%94%A8">2. HMaster作用</a></li>
<li><a href="#3-zookeeper%E4%BD%9C%E7%94%A8-%E9%87%8D%E7%82%B9">3. Zookeeper作用 【重点】</a></li>
<li><a href="#4-hbase-compact-%E5%92%8C-split">4. HBase compact 和 split</a></li>
</ul>
</li>
<li><a href="#rowkey%E8%AE%BE%E8%AE%A1">RowKey设计</a></li>
</ul>
(HBase)</p>
<h1 id="hbase的引言">Hbase的引言</h1>
<h2 id="什么是hbase">什么是HBase</h2>
<pre><code class="language-markdown">hbase是Apache 组织开源的顶级项目 distributed, scalable, big data store 产品
hbase是基于Hadoop的一个NoSQL产品  Column类型的NoSQL
hbase是Google BigTable的开源实现, 爬虫爬取的网页
hbase运行亿级数据查询时，效率可达到秒级，毫秒级 在线处理 实时的处理
</code></pre>
<h2 id="nosql特点">NoSQL特点</h2>
<pre><code class="language-markdown">1. 部分NoSQL In-Memory 内存型 （Redis)
2. Schema-Less NoSchema 弱格式 无格式
3. 杜绝表连接
4. 弱化事务，没有事务 （Redis有事务，MongoDB(4.x 没事务  4.x后有事务)
5. 搭建集群方便 
</code></pre>
<h2 id="nosql分类">NoSQL分类</h2>
<pre><code class="language-markdown">1. key value 类型 redis
2. document  类型 mongodb
3. column    类型 HBase Cassandra
4. 图         类型 neo4j (金融 知识图谱) 
</code></pre>
<h1 id="hbase存储的逻辑结构">Hbase存储的逻辑结构</h1>
<p><strong>mysql</strong><br>
t_user<br>
<img src="https://img-blog.csdnimg.cn/2019102920121778.png" alt="在这里插入图片描述" loading="lazy"><br>
<strong>HBase</strong><br>
<img src="https://img-blog.csdnimg.cn/20191029204504852.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L00yODM1OTIzMzg=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" loading="lazy"></p>
<pre><code class="language-m">多版本的好处：修改速度快，直接新增一条新数据，给旧数据标记墓碑
</code></pre>
<h1 id="hbase伪分布式环境的搭建">Hbase伪分布式环境的搭建</h1>
<pre><code class="language-markdown">Hmaster、 Hregionserver 
</code></pre>
<pre><code class="language-markdown">1. linux服务器 ip 主机名 主机映射 防火墙 selinux ssh免密 jdk
2. hadoop安装
   2.1 解压缩
   2.2 6个配置文件
   2.3 格式化
   2.4 启动进程
3. 安装zookeeper
   3.1 解压缩
   3.2 配置conf/zoo.cfg 
   3.3 创建临时目录 data ---&gt; myid文件（集群）
   3.4 启动服务
4. hbase的安装
   4.1 解压缩hbase
   4.2 hdfs上创建 /hbase文件夹
                 hbase_home/data/tmp文件夹
   4.3 修改hbase相关的配置文件 
       env.sh
       export HBASE_MANAGES_ZK=false
       export JAVA_HOME=/usr/java/jdk1.7.0_71
       hbase-site.xml 
       &lt;property &gt;
	   &lt;name&gt;hbase.tmp.dir&lt;/name&gt;
	   &lt;value&gt;/opt/install/hbase-0.98.6-hadoop2/data/tmp&lt;/value&gt;
       &lt;/property&gt;
       &lt;property &gt;
            &lt;name&gt;hbase.rootdir&lt;/name&gt;
            &lt;value&gt;hdfs://CentOSA:8020/hbase&lt;/value&gt;
        &lt;/property&gt;
        &lt;property &gt;
            &lt;name&gt;hbase.cluster.distributed&lt;/name&gt;
            &lt;value&gt;true&lt;/value&gt;
        &lt;/property&gt;
        &lt;property&gt;
            &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;
            &lt;value&gt;CentOSA&lt;/value&gt;
        &lt;/property&gt;
        &lt;property&gt;
            &lt;name&gt;hbase.zookeeper.property.dataDir&lt;/name&gt;
            &lt;value&gt;/opt/install/zookeeper-3.4.6&lt;/value&gt;
        &lt;/property&gt;
        &lt;property&gt;
            &lt;name&gt;hbase.unsafe.stream.capability.enforce&lt;/name&gt;
            &lt;value&gt;false&lt;/value&gt;
        &lt;/property&gt;
   4.4 修改
       regionservers文件
       CentOSA
   4.5 替换hbase相关hadoop的jar
   4.6 启动hbase
       bin/hbase-daemon.sh start master
       bin/hbase-daemon.sh start regionserver
   4.7 网络访问
       http://CentOS:60010
       bin/hbase shell
</code></pre>
<h1 id="hbase的shell命令">Hbase的shell命令</h1>
<pre><code class="language-Markdown">1. help 帮助命令
   help '命令名字'
2. hbase中数据库的概念
   namespace 
2.1 显示所有的数据库 
    list_namespace 
    默认  default  
          hbase
2.2 显示当前数据库中所有的表
    list_namespace_tables 'hbase'
2.3 创建一个数据库
    create_namespace 'test'
2.4 描述数据库
    describe_namespace 'test'
2.5 修改数据库
    alter_namespace
2.6 删除数据库
    drop_namespace 'test'
3. 创建hbase中的表【重点】
3.1 基本的建表方式 【默认default库中】
   create 't1','cf1'
3.2 创建多个列簇【默认default库中】
   create 't1','cf1','cf2'
3.3 指定表所属的数据库
   create 'test:t1','cf1'
3.4 详细描述列簇的相关属性
   create 'test:t2',{NAME=&gt;'cf1',VERSIONS=&gt;2},{NAME=&gt;'cf2'}
4. 描述表 
   describe 'test:t1'
5. 修改表
   alter 'test:t2',{NAME=&gt;'cf2',VERSIONS=&gt;2}
6. 删除表
   disable 'test:t2'
   drop 'test:t2'
7. 失效 生效表相关命令
   enable disable 
   enable_all disable_all
   is_enable is_disable
8. 判断表是否存在
   exists 
9. 表的查找命令
   list 'namespace:t.*'
10. 插入数据
   put 't1'，’rowkey‘,'family:qualify','value'
   put 'namespace:t1'，’rowkey‘,'family:qualify','value'
11. 删除数据
   delete 'namespace:t1' ,'rowkey','family:qualify','timestamp'
12. 全表扫描 
    scan '表名'
    scan 'namespace:tb1', {STARTROW =&gt; '20170521_10001',STOPROW =&gt; '20170521_10003'}
    scan 'test:user',{STARTROW=&gt;'001',STOPROW=&gt;'004'}
    不包括stoprow的值
13. 某条数据的查询
    get 'test:user','001'
    get 'test:user','001','base:name'
</code></pre>
<h1 id="hbase-集群搭建">HBase 集群搭建</h1>
<h2 id="1时间同步集群">1.时间同步集群</h2>
<pre><code class="language-markdown"> CentOS 作为时间同步服务器 主节点
 1. yum install ntp 三台机器
 2. service ntpd start 三台机器
 chkconfig ntpd on
 3. 服务器节点 主节点
 ntpdate -u 202.112.10.36
 vi /etc/ntp.conf
 restrict 192.168.111.0 mask 255.255.255.0 nomodify notrap
 # 中国这边最活跃的时间服务器 : http://www.pool.ntp.org/zone/cn
 server 210.72.145.44 perfer      # 中国国家受时中心
 server 202.112.10.36             # 1.cn.pool.ntp.org
 server 59.124.196.83             # 0.asia.pool.ntp.org

# 允许上层时间服务器主动修改本机时间
restrict 210.72.145.44 nomodify notrap noquery
restrict 202.112.10.36 nomodify notrap noquery
restrict 59.124.196.83 nomodify notrap noquery

# 外部时间服务器不可用时，以本地时间作为时间服务
server  127.127.1.0     # local clock
fudge   127.127.1.0 stratum 10
service ntpd restart

4. client端
vi /etc/ntp.conf
server 192.168.111.41 #这里指的是ntp服务的ip 192.168.206.130
restrict 192.168.111.41 nomodify notrap noquery

server  127.127.1.0     # local clock
fudge   127.127.1.0 stratum 10
5. 三台机器 service ntpd restart
6. 从节点同步主节点时间 ntpdate -u 192.168.184.16
adjust time server 192.168.19.10 offset -0.017552 sec
5. date命令查看处理结果
</code></pre>
<h2 id="2hadoop集群搭建">2.Hadoop集群搭建</h2>
<pre><code class="language-markdown">HDFS集群
YARN集群
</code></pre>
<h2 id="3-zookeeper集群">3. Zookeeper集群</h2>
<pre><code class="language-markdown">1. 解压缩
2. 创建数据文件夹
   zookeeper_home/data
3. 修改配置文件
   conf/zoo.cfg
   dataDir
   server.0 
4. 在data文件夹中创建 myid文件 0 1 2 
5. 启动服务
</code></pre>
<h2 id="4-hbase集群">4. HBase集群</h2>
<pre><code class="language-markdown">1. 准备：hbase_home  data/tmp  logs目录中的内容清空
        hdfs 上面 hbase目录清空
2. 修改hbase_home/conf/hbase-env.sh
export JAVA_HOME=/usr/java/jdk1.7.0_71
export HBASE_MANAGES_ZK=false
3. hbase-site.xml
&lt;property &gt;
    &lt;name&gt;hbase.tmp.dir&lt;/name&gt;
    &lt;value&gt;/opt/install/hbase-0.98.6-hadoop2/data/tmp&lt;/value&gt;
&lt;/property&gt;
&lt;property &gt;
    &lt;name&gt;hbase.rootdir&lt;/name&gt;
    &lt;value&gt;hdfs://CentOSA:8020/hbase&lt;/value&gt;
&lt;/property&gt;
&lt;property &gt;
    &lt;name&gt;hbase.cluster.distributed&lt;/name&gt;
    &lt;value&gt;true&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
&lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;
&lt;value&gt;CentOSA,CentOSB,CentOSC&lt;/value&gt;
&lt;/property&gt;
4. regionservers
CentOSA
CentOSB
CentOSC
5. 启动hbase
bin/hbase-daemon.sh start master
bin/hbase-daemon.sh start regionserver
</code></pre>
<h1 id="hbase-java-api">HBase JAVA API</h1>
<pre><code class="language-markdown"># java访问HBase的核心API
Configruation  HBase相关的配置 
Htable         HBase中的表
Put            插入数据 
Get            查询数据
Scan           扫描数据
BytesUtil      字节处理
</code></pre>
<h2 id="maven依赖">Maven依赖</h2>
<pre><code class="language-xml">&lt;!-- https://mvnrepository.com/artifact/org.apache.hbase/hbase-client --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;
    &lt;artifactId&gt;hbase-client&lt;/artifactId&gt;
    &lt;version&gt;0.98.6-hadoop2&lt;/version&gt;
&lt;/dependency&gt;

&lt;!-- https://mvnrepository.com/artifact/org.apache.hbase/hbase-server --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;
    &lt;artifactId&gt;hbase-server&lt;/artifactId&gt;
    &lt;version&gt;0.98.6-hadoop2&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h2 id="方法">方法</h2>
<table>
<thead>
<tr>
<th>对象</th>
<th>作用</th>
<th>基本用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>Configruation</td>
<td>Hbase相关的配置文件</td>
<td>conf.set(&quot;key&quot;,&quot;value&quot;);</td>
</tr>
<tr>
<td>HTable</td>
<td>Hbase中的表</td>
<td>表相关的操作都是HTable完成</td>
</tr>
<tr>
<td>Put</td>
<td>HBase中插入数据</td>
<td>Put put = new Put(rowkey)<br />put.add<br />HTable.put(put)</td>
</tr>
<tr>
<td>Delete</td>
<td>HBase中的删除操作</td>
<td>Delete delete = new Delete(rowkey)<br />HTable.delete(delete)</td>
</tr>
<tr>
<td>Get</td>
<td>HBase查询单条数据</td>
<td>Get get  = net Get(rowkey)<br />HTable.get(get) ---&gt; Result</td>
</tr>
<tr>
<td>Result</td>
<td>单行数据</td>
<td>Result -- Cells --- Cell ---<br /> cloneFamily<br />cloneQualify<br />cloneValue</td>
</tr>
<tr>
<td>Scan</td>
<td>表的扫描</td>
<td>ResultScanner ---&gt; Result</td>
</tr>
</tbody>
</table>
<h2 id="hbase中的过滤器">HBase中的过滤器</h2>
<ol>
<li>
<p>行键相关的过滤器</p>
<pre><code class="language-java">1.比较行键值的大小
Filter filter1 = new RowFilter(CompareFilter.CompareOp.GREATER, new
                BinaryComparator(Bytes.toBytes(&quot;0003&quot;)));
scan.setFilter(filter1);

2. 比较行键按照特定的规则设计
Filter filter1 = new PrefixFilter(Bytes.toBytes(&quot;000&quot;));
scan.setFilter(filter1);
</code></pre>
</li>
<li>
<p>列簇相关的筛选</p>
<pre><code class="language-java">1. 只要base列簇相关的数据
Filter filter1 = new FamilyFilter(CompareFilter.CompareOp.EQUAL, new
                BinaryComparator(Bytes.toBytes(&quot;base&quot;)));

scan.setFilter(filter1);
</code></pre>
</li>
<li>
<p>限定符相关筛选</p>
<pre><code class="language-java">Filter filter1 = new QualifierFilter(CompareFilter.CompareOp.EQUAL, new
BinaryComparator(Bytes.toBytes(&quot;age&quot;)));

scan.setFilter(filter1);
</code></pre>
</li>
<li>
<p>值的筛选</p>
<pre><code class="language-java">Filter filter = new ValueFilter(CompareFilter.CompareOp.EQUAL, new SubstringComparator(&quot;1&quot;) );

scan.setFilter(filter);
</code></pre>
</li>
<li>
<p>列簇中的数据进行筛选</p>
<pre><code class="language-java">SingleColumnValueFilter filter = new SingleColumnValueFilter(
                Bytes.toBytes(&quot;base&quot;),
                Bytes.toBytes(&quot;sex&quot;),
                CompareFilter.CompareOp.EQUAL,
                new SubstringComparator(&quot;male&quot;));
          filter.setFilterIfMissing(true);
        //filter.setFilterIfMissing(false); //符合要求的数据 password=123456
                                          //column 中不包含password限定符 查询出来
        scan.setFilter(filter);
        
//同时要排除password 限定符        
      SingleColumnValueExcludeFilter filter = new SingleColumnValueExcludeFilter(
                Bytes.toBytes(&quot;base&quot;),
                Bytes.toBytes(&quot;password&quot;),
                CompareFilter.CompareOp.NOT_EQUAL,
                new SubstringComparator(&quot;66666&quot;));
  filter.setFilterIfMissing(true);
        //filter.setFilterIfMissing(false); //符合要求的数据 password=123456
        //column 中不包含password限定符 查询出来
        scan.setFilter(filter);
</code></pre>
</li>
<li>
<p>FilterList</p>
<pre><code class="language-java">设置多个过滤器 同时生效
 FilterList filterList = new FilterList();

 Filter filter1 = new PrefixFilter(Bytes.toBytes(&quot;000&quot;));

  SingleColumnValueFilter filter2 = new SingleColumnValueFilter(
                Bytes.toBytes(&quot;base&quot;),
                Bytes.toBytes(&quot;password&quot;),
                CompareFilter.CompareOp.EQUAL,
                new SubstringComparator(&quot;123456&quot;));
  filter2.setFilterIfMissing(true);

  filterList.addFilter(filter1);
  filterList.addFilter(filter2);

  scan.setFilter(filterList);
</code></pre>
</li>
</ol>
<h1 id="hbase中列簇相关的属性">HBase中列簇相关的属性</h1>
<pre><code class="language-markdown">1. 创建HBase表
   create 'table_name',{NAME=&gt;'',VERSIONS=&gt;''}
2. Hbase列簇的常见属性
   # 列簇的名字
   NAME='xxxxx'
   # 列簇对应限定符 能存几个版本的数据
   VERSIONS =&gt; '1'
   # TTL Time To Live  
   指定的是cell中的数据，存储在HBase中的存活时间 'FOREVER'
   TTL =&gt; 100  
   # 指定HBase上存储的数据 是否 启动压缩
   COMPRESSION =&gt; 'NONE'
   COMPRESSION =&gt; 'snappy'
   # 列簇中的数据，存储在内存中，提高查询效率 （默认关闭）
   IN_MEMORY =&gt; 'false’ 
   # 缓存 列簇部分数据，从而提高查询效率
   BLOCKCACHE =&gt; 'true'
   # Block是列簇中存储数据的最小单位
   BLOCKSIZE =&gt; '65536'
   调整大   顺序查询  需求高
   调整小   随机查询  需求高 
   # 提高查询效率
   BLOOMFILTER 布隆过滤
</code></pre>
<h1 id="hbase-体系结构">HBase 体系结构</h1>
<h2 id="1regionserver">1.RegionServer</h2>
<figure data-type="image" tabindex="1"><img src="https://img-blog.csdnimg.cn/20191029212716951.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L00yODM1OTIzMzg=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" loading="lazy"></figure>
<h2 id="2-hmaster作用">2. HMaster作用</h2>
<pre><code class="language-markdown">1. HRegionServer 集群是否健康 
2. Region---RegionServer分配
3. 新Region加入后，负载均衡
</code></pre>
<h2 id="3-zookeeper作用-重点">3. Zookeeper作用 【重点】</h2>
<pre><code class="language-markdown"> 1. 管理HMaster的高可用
 2. 存储了HBase中非常重要的信息  meta信息
    rowkey 范围  ---- region  ---- RegionServer(健康)
</code></pre>
<h2 id="4-hbase-compact-和-split">4. HBase compact 和 split</h2>
<figure data-type="image" tabindex="2"><img src="https://img-blog.csdnimg.cn/20191029212851711.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L00yODM1OTIzMzg=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" loading="lazy"></figure>
<h1 id="rowkey设计">RowKey设计</h1>
<pre><code class="language-markdown">1. HBase相关的查询操作，95%上都是对RowKey查询。
2. 设计过程 
   2.1 复合
   2.2 查询内容作为rowkey组成
3. rowkey 64K 10--100字节唯一
4. rowkey结合自己的实际需求
   4.1  区域查询多，建议 rowkey 连续    
   4.4  区域查询少，散列 hash ---&gt; 加密、UUID
</code></pre>
<pre><code class="language-java">System.out.println(UUID.randomUUID().toString());
String rowkey = &quot;xx_male_001&quot;;
String result = DigestUtils.md5Hex(rowkey);
System.out.println(result);
</code></pre>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://mask0407.github.io/-ElJdKXRJ/" class="tag">
                    Hbase
                  </a>
                
                  <a href="https://mask0407.github.io/mWPQYQko7/" class="tag">
                    Hadoop
                  </a>
                
                  <a href="https://mask0407.github.io/1ffDVERZml/" class="tag">
                    大数据
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://mask0407.github.io/hbase00/">
                  <h3 class="post-title">
                    Hbase单节点伪分布式搭建
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.min.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>






  </body>
</html>
